{"remainingRequest":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/thread-loader/dist/cjs.js!/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/babel-loader/lib/index.js!/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/src/World/World.js","dependencies":[{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/src/World/World.js","mtime":1666697427635},{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/babel.config.js","mtime":1666697422773},{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/cache-loader/dist/cjs.js","mtime":1666697996628},{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/thread-loader/dist/cjs.js","mtime":1666697993337},{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/babel-loader/lib/index.js","mtime":1666697996903}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvemhlbnFpL0Rlc2t0b3AvdW5jYW5ueS12dWUvdW5jYW5ueS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvemhlbnFpL0Rlc2t0b3AvdW5jYW5ueS12dWUvdW5jYW5ueS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IHsgY3JlYXRlQ2FtZXJhIH0gZnJvbSAiLi9jb21wb25lbnRzL2NhbWVyYS5qcyI7CmltcG9ydCB7IGNyZWF0ZUxpZ2h0cyB9IGZyb20gIi4vY29tcG9uZW50cy9saWdodHMuanMiOwppbXBvcnQgeyBjcmVhdGVDdWJlIH0gZnJvbSAiLi9jb21wb25lbnRzL29iamVjdHMvY3ViZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVNjZW5lIH0gZnJvbSAiLi9jb21wb25lbnRzL3NjZW5lLmpzIjsKaW1wb3J0IHsgY3JlYXRlQ29udHJvbHMgfSBmcm9tICIuL3N5c3RlbXMvY29udHJvbHMuanMiOwppbXBvcnQgeyBjcmVhdGVSZW5kZXJlciB9IGZyb20gIi4vc3lzdGVtcy9yZW5kZXJlci5qcyI7CmltcG9ydCB7IFJlc2l6ZXIgfSBmcm9tICIuL3N5c3RlbXMvUmVzaXplci5qcyI7CmltcG9ydCB7IExvb3AgfSBmcm9tICIuL3N5c3RlbXMvTG9vcC5qcyI7IC8vIFRoZXNlIHZhcmlhYmxlcyBhcmUgbW9kdWxlLXNjb3BlZDogd2UgY2Fubm90IGFjY2VzcyB0aGVtCi8vIGZyb20gb3V0c2lkZSB0aGUgbW9kdWxlCgp2YXIgY2FtZXJhOwp2YXIgcmVuZGVyZXI7CnZhciBzY2VuZTsKdmFyIGxvb3A7Cgp2YXIgV29ybGQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFdvcmxkKGNvbnRhaW5lcikgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV29ybGQpOwoKICAgIC8vIEluc3RhbmNlcyBvZiBjYW1lcmEsIHNjZW5lLCBhbmQgcmVuZGVyZXIKICAgIGNhbWVyYSA9IGNyZWF0ZUNhbWVyYSgpOwogICAgc2NlbmUgPSBjcmVhdGVTY2VuZSgiaHNsKDAsIDEwMCUsIDEwMCUpIik7CiAgICByZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKCk7IC8vIEluaXRpYWxpemF0ZSBMb29wCgogICAgbG9vcCA9IG5ldyBMb29wKGNhbWVyYSwgc2NlbmUsIHJlbmRlcmVyKTsKICAgIGNvbnRhaW5lci5hcHBlbmQocmVuZGVyZXIuZG9tRWxlbWVudCk7IC8vIE9yYml0IENvbnRyb2xzCgogICAgdmFyIGNvbnRyb2xzID0gY3JlYXRlQ29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTsKICAgIGNvbnNvbGUubG9nKGNvbnRyb2xzLmxpc3RlblRvS2V5RXZlbnRzKTsgLy8gQ3ViZSBJbnN0YW5jZQoKICAgIHZhciBib3ggPSBjcmVhdGVDdWJlKCIjNDFiODgzIik7IC8vIExpZ2h0IEluc3RhbmNlLCB3aXRoIG9wdGlvbmFsIGxpZ2h0IGhlbHBlcgoKICAgIHZhciBfY3JlYXRlTGlnaHRzID0gY3JlYXRlTGlnaHRzKCJ3aGl0ZSIpLAogICAgICAgIGxpZ2h0ID0gX2NyZWF0ZUxpZ2h0cy5saWdodCwKICAgICAgICBsaWdodEhlbHBlciA9IF9jcmVhdGVMaWdodHMubGlnaHRIZWxwZXI7CgogICAgbG9vcC51cGRhdGFibGVzLnB1c2goY29udHJvbHMpOwogICAgbG9vcC51cGRhdGFibGVzLnB1c2goYm94KTsKICAgIGxvb3AudXBkYXRhYmxlcy5wdXNoKGxpZ2h0KTsKICAgIHNjZW5lLmFkZChsaWdodCwgYm94KTsgLy8gUmVzcG9uc2l2ZSBoYW5kbGVyCgogICAgdmFyIHJlc2l6ZXIgPSBuZXcgUmVzaXplcihjb250YWluZXIsIGNhbWVyYSwgcmVuZGVyZXIpOwoKICAgIHJlc2l6ZXIub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnJlbmRlcigpOwogICAgfTsKICB9CgogIF9jcmVhdGVDbGFzcyhXb3JsZCwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICAvLyBkcmF3IGEgc2luZ2xlIGZyYW1lCiAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTsKICAgIH0gLy8gQW5pbWF0aW9uIGhhbmRsZXJzCgogIH0sIHsKICAgIGtleTogInN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgbG9vcC5zdGFydCgpOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIGxvb3Auc3RvcCgpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFdvcmxkOwp9KCk7CgpleHBvcnQgeyBXb3JsZCB9Ow=="},{"version":3,"sources":["/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/src/World/World.js"],"names":["createCamera","createLights","createCube","createScene","createControls","createRenderer","Resizer","Loop","camera","renderer","scene","loop","World","container","append","domElement","controls","console","log","listenToKeyEvents","box","light","lightHelper","updatables","push","add","resizer","onResize","render","start","stop"],"mappings":";;AAAA,SAASA,YAAT,QAA6B,wBAA7B;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,SAASC,IAAT,QAAqB,mBAArB,C,CAEA;AACA;;AACA,IAAIC,MAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,KAAJ;AACA,IAAIC,IAAJ;;IAEMC,K;AACJ,iBAAYC,SAAZ,EAAuB;AAAA;;AAAA;;AACrB;AACAL,IAAAA,MAAM,GAAGR,YAAY,EAArB;AACAU,IAAAA,KAAK,GAAGP,WAAW,CAAC,oBAAD,CAAnB;AACAM,IAAAA,QAAQ,GAAGJ,cAAc,EAAzB,CAJqB,CAMrB;;AACAM,IAAAA,IAAI,GAAG,IAAIJ,IAAJ,CAASC,MAAT,EAAiBE,KAAjB,EAAwBD,QAAxB,CAAP;AAEAI,IAAAA,SAAS,CAACC,MAAV,CAAiBL,QAAQ,CAACM,UAA1B,EATqB,CAWrB;;AACA,QAAMC,QAAQ,GAAGZ,cAAc,CAACI,MAAD,EAASC,QAAQ,CAACM,UAAlB,CAA/B;AAEAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,iBAArB,EAdqB,CAgBrB;;AACA,QAAIC,GAAG,GAAGlB,UAAU,CAAC,SAAD,CAApB,CAjBqB,CAmBrB;;AACA,wBAA+BD,YAAY,CAAC,OAAD,CAA3C;AAAA,QAAQoB,KAAR,iBAAQA,KAAR;AAAA,QAAeC,WAAf,iBAAeA,WAAf;;AAEAX,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBR,QAArB;AACAL,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBJ,GAArB;AACAT,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBH,KAArB;AAEAX,IAAAA,KAAK,CAACe,GAAN,CAAUJ,KAAV,EAAiBD,GAAjB,EA1BqB,CA4BrB;;AACA,QAAMM,OAAO,GAAG,IAAIpB,OAAJ,CAAYO,SAAZ,EAAuBL,MAAvB,EAA+BC,QAA/B,CAAhB;;AACAiB,IAAAA,OAAO,CAACC,QAAR,GAAmB,YAAM;AACvB,MAAA,KAAI,CAACC,MAAL;AACD,KAFD;AAGD;;;;WAED,kBAAS;AACP;AACAnB,MAAAA,QAAQ,CAACmB,MAAT,CAAgBlB,KAAhB,EAAuBF,MAAvB;AACD,K,CAED;;;;WACA,iBAAQ;AACNG,MAAAA,IAAI,CAACkB,KAAL;AACD;;;WAED,gBAAO;AACLlB,MAAAA,IAAI,CAACmB,IAAL;AACD;;;;;;AAGH,SAASlB,KAAT","sourcesContent":["import { createCamera } from \"./components/camera.js\";\nimport { createLights } from \"./components/lights.js\";\nimport { createCube } from \"./components/objects/cube.js\";\nimport { createScene } from \"./components/scene.js\";\nimport { createControls } from \"./systems/controls.js\";\nimport { createRenderer } from \"./systems/renderer.js\";\nimport { Resizer } from \"./systems/Resizer.js\";\nimport { Loop } from \"./systems/Loop.js\";\n\n// These variables are module-scoped: we cannot access them\n// from outside the module\nlet camera;\nlet renderer;\nlet scene;\nlet loop;\n\nclass World {\n  constructor(container) {\n    // Instances of camera, scene, and renderer\n    camera = createCamera();\n    scene = createScene(\"hsl(0, 100%, 100%)\");\n    renderer = createRenderer();\n\n    // Initializate Loop\n    loop = new Loop(camera, scene, renderer);\n\n    container.append(renderer.domElement);\n\n    // Orbit Controls\n    const controls = createControls(camera, renderer.domElement);\n\n    console.log(controls.listenToKeyEvents);\n\n    // Cube Instance\n    let box = createCube(\"#41b883\");\n\n    // Light Instance, with optional light helper\n    const { light, lightHelper } = createLights(\"white\");\n\n    loop.updatables.push(controls);\n    loop.updatables.push(box);\n    loop.updatables.push(light);\n\n    scene.add(light, box);\n\n    // Responsive handler\n    const resizer = new Resizer(container, camera, renderer);\n    resizer.onResize = () => {\n      this.render();\n    };\n  }\n\n  render() {\n    // draw a single frame\n    renderer.render(scene, camera);\n  }\n\n  // Animation handlers\n  start() {\n    loop.start();\n  }\n\n  stop() {\n    loop.stop();\n  }\n}\n\nexport { World };\n"]}]}