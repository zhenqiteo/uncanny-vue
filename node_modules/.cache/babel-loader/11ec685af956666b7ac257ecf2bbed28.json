{"remainingRequest":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/babel-loader/lib/index.js!/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/src/World/systems/Loop.js","dependencies":[{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/src/World/systems/Loop.js","mtime":1666697427637},{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/babel.config.js","mtime":1666697422773},{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/cache-loader/dist/cjs.js","mtime":1666697996628},{"path":"/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/node_modules/babel-loader/lib/index.js","mtime":1666697996903}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy96aGVucWkvRGVza3RvcC91bmNhbm55LXZ1ZS91bmNhbm55LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3poZW5xaS9EZXNrdG9wL3VuY2FubnktdnVlL3VuY2FubnktdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3poZW5xaS9EZXNrdG9wL3VuY2FubnktdnVlL3VuY2FubnktdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCB7IENsb2NrIH0gZnJvbSAndGhyZWUnOwp2YXIgY2xvY2sgPSBuZXcgQ2xvY2soKTsKCnZhciBMb29wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBMb29wKGNhbWVyYSwgc2NlbmUsIHJlbmRlcmVyKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9vcCk7CgogICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7CiAgICB0aGlzLnNjZW5lID0gc2NlbmU7CiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7CiAgICB0aGlzLnVwZGF0YWJsZXMgPSBbXTsKICB9CgogIF9jcmVhdGVDbGFzcyhMb29wLCBbewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy50aWNrKCk7IC8vIHJlbmRlciBhIGZyYW1lCgoKICAgICAgICBfdGhpcy5yZW5kZXJlci5yZW5kZXIoX3RoaXMuc2NlbmUsIF90aGlzLmNhbWVyYSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHRoaXMucmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcChudWxsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0aWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0aWNrKCkgewogICAgICB2YXIgZGVsdGEgPSBjbG9jay5nZXREZWx0YSgpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudXBkYXRhYmxlcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBvYmplY3QgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIG9iamVjdC50aWNrKGRlbHRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIExvb3A7Cn0oKTsKCmV4cG9ydCB7IExvb3AgfTs="},{"version":3,"sources":["/Users/zhenqi/Desktop/uncanny-vue/uncanny-vue/src/World/systems/Loop.js"],"names":["Clock","clock","Loop","camera","scene","renderer","updatables","setAnimationLoop","tick","render","delta","getDelta","object"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,OAAtB;AAEA,IAAMC,KAAK,GAAG,IAAID,KAAJ,EAAd;;IAGME,I;AACJ,gBAAYC,MAAZ,EAAoBC,KAApB,EAA2BC,QAA3B,EAAqC;AAAA;;AACnC,SAAKF,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACD;;;;WAED,iBAAQ;AAAA;;AACN,WAAKD,QAAL,CAAcE,gBAAd,CAA+B,YAAM;AACjC,QAAA,KAAI,CAACC,IAAL,GADiC,CAEjC;;;AACA,QAAA,KAAI,CAACH,QAAL,CAAcI,MAAd,CAAqB,KAAI,CAACL,KAA1B,EAAiC,KAAI,CAACD,MAAtC;AACH,OAJD;AAKD;;;WAED,gBAAO;AACL,WAAKE,QAAL,CAAcE,gBAAd,CAA+B,IAA/B;AACD;;;WAED,gBAAO;AACL,UAAMG,KAAK,GAAGT,KAAK,CAACU,QAAN,EAAd;;AADK,iDAEgB,KAAKL,UAFrB;AAAA;;AAAA;AAEL,4DAAsC;AAAA,cAA3BM,MAA2B;AAClCA,UAAAA,MAAM,CAACJ,IAAP,CAAYE,KAAZ;AACH;AAJI;AAAA;AAAA;AAAA;AAAA;AAKN;;;;;;AAGH,SAASR,IAAT","sourcesContent":["import { Clock } from 'three';\n\nconst clock = new Clock();\n\n\nclass Loop {\n  constructor(camera, scene, renderer) {\n    this.camera = camera;\n    this.scene = scene;\n    this.renderer = renderer;\n    this.updatables = [];\n  }\n\n  start() {\n    this.renderer.setAnimationLoop(() => {\n        this.tick();\n        // render a frame\n        this.renderer.render(this.scene, this.camera);\n    });\n  }\n\n  stop() {\n    this.renderer.setAnimationLoop(null);\n  }\n\n  tick() {\n    const delta = clock.getDelta();\n    for (const object of this.updatables) {\n        object.tick(delta);\n    }\n  }\n}\n\nexport { Loop }"]}]}