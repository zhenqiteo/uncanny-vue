{"remainingRequest":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\uncanny\\websaite\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\uncanny\\websaite\\src\\World\\World.js","dependencies":[{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\uncanny\\websaite\\src\\World\\World.js","mtime":1666675186528},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\uncanny\\websaite\\babel.config.js","mtime":1666672123791},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\uncanny\\websaite\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666672504885},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\uncanny\\websaite\\node_modules\\babel-loader\\lib\\index.js","mtime":1666672506616}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy96aGVucS9PbmVEcml2ZS9Eb2N1bWVudHMvY2xpZW50X3Byb2plY3RzL3VuY2Fubnkvd2Vic2FpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi9Vc2Vycy96aGVucS9PbmVEcml2ZS9Eb2N1bWVudHMvY2xpZW50X3Byb2plY3RzL3VuY2Fubnkvd2Vic2FpdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IHsgY3JlYXRlQ2FtZXJhIH0gZnJvbSAiLi9jb21wb25lbnRzL2NhbWVyYS5qcyI7CmltcG9ydCB7IGNyZWF0ZUxpZ2h0cyB9IGZyb20gIi4vY29tcG9uZW50cy9saWdodHMuanMiOwppbXBvcnQgeyBjcmVhdGVDdWJlIH0gZnJvbSAiLi9jb21wb25lbnRzL29iamVjdHMvY3ViZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVNjZW5lIH0gZnJvbSAiLi9jb21wb25lbnRzL3NjZW5lLmpzIjsKaW1wb3J0IHsgY3JlYXRlQ29udHJvbHMgfSBmcm9tICIuL3N5c3RlbXMvY29udHJvbHMuanMiOwppbXBvcnQgeyBjcmVhdGVSZW5kZXJlciB9IGZyb20gIi4vc3lzdGVtcy9yZW5kZXJlci5qcyI7CmltcG9ydCB7IFJlc2l6ZXIgfSBmcm9tICIuL3N5c3RlbXMvUmVzaXplci5qcyI7CmltcG9ydCB7IExvb3AgfSBmcm9tICIuL3N5c3RlbXMvTG9vcC5qcyI7IC8vIFRoZXNlIHZhcmlhYmxlcyBhcmUgbW9kdWxlLXNjb3BlZDogd2UgY2Fubm90IGFjY2VzcyB0aGVtCi8vIGZyb20gb3V0c2lkZSB0aGUgbW9kdWxlCgp2YXIgY2FtZXJhOwp2YXIgcmVuZGVyZXI7CnZhciBzY2VuZTsKdmFyIGxvb3A7Cgp2YXIgV29ybGQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFdvcmxkKGNvbnRhaW5lcikgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV29ybGQpOwoKICAgIC8vIEluc3RhbmNlcyBvZiBjYW1lcmEsIHNjZW5lLCBhbmQgcmVuZGVyZXIKICAgIGNhbWVyYSA9IGNyZWF0ZUNhbWVyYSgpOwogICAgc2NlbmUgPSBjcmVhdGVTY2VuZSgiaHNsKDAsIDEwMCUsIDEwMCUpIik7CiAgICByZW5kZXJlciA9IGNyZWF0ZVJlbmRlcmVyKCk7IC8vIEluaXRpYWxpemF0ZSBMb29wCgogICAgbG9vcCA9IG5ldyBMb29wKGNhbWVyYSwgc2NlbmUsIHJlbmRlcmVyKTsKICAgIGNvbnRhaW5lci5hcHBlbmQocmVuZGVyZXIuZG9tRWxlbWVudCk7IC8vIE9yYml0IENvbnRyb2xzCgogICAgdmFyIGNvbnRyb2xzID0gY3JlYXRlQ29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTsKICAgIGNvbnNvbGUubG9nKGNvbnRyb2xzLmxpc3RlblRvS2V5RXZlbnRzKTsgLy8gQ3ViZSBJbnN0YW5jZQoKICAgIHZhciBib3ggPSBjcmVhdGVDdWJlKCIjNDFiODgzIik7IC8vIExpZ2h0IEluc3RhbmNlLCB3aXRoIG9wdGlvbmFsIGxpZ2h0IGhlbHBlcgoKICAgIHZhciBfY3JlYXRlTGlnaHRzID0gY3JlYXRlTGlnaHRzKCJ3aGl0ZSIpLAogICAgICAgIGxpZ2h0ID0gX2NyZWF0ZUxpZ2h0cy5saWdodCwKICAgICAgICBsaWdodEhlbHBlciA9IF9jcmVhdGVMaWdodHMubGlnaHRIZWxwZXI7CgogICAgbG9vcC51cGRhdGFibGVzLnB1c2goY29udHJvbHMpOwogICAgbG9vcC51cGRhdGFibGVzLnB1c2goYm94KTsKICAgIGxvb3AudXBkYXRhYmxlcy5wdXNoKGxpZ2h0KTsKICAgIHNjZW5lLmFkZChsaWdodCwgYm94KTsgLy8gUmVzcG9uc2l2ZSBoYW5kbGVyCgogICAgdmFyIHJlc2l6ZXIgPSBuZXcgUmVzaXplcihjb250YWluZXIsIGNhbWVyYSwgcmVuZGVyZXIpOwoKICAgIHJlc2l6ZXIub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnJlbmRlcigpOwogICAgfTsKICB9CgogIF9jcmVhdGVDbGFzcyhXb3JsZCwgW3sKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICAvLyBkcmF3IGEgc2luZ2xlIGZyYW1lCiAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTsKICAgIH0gLy8gQW5pbWF0aW9uIGhhbmRsZXJzCgogIH0sIHsKICAgIGtleTogInN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgbG9vcC5zdGFydCgpOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIGxvb3Auc3RvcCgpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFdvcmxkOwp9KCk7CgpleHBvcnQgeyBXb3JsZCB9Ow=="},{"version":3,"sources":["C:/Users/zhenq/OneDrive/Documents/client_projects/uncanny/websaite/src/World/World.js"],"names":["createCamera","createLights","createCube","createScene","createControls","createRenderer","Resizer","Loop","camera","renderer","scene","loop","World","container","append","domElement","controls","console","log","listenToKeyEvents","box","light","lightHelper","updatables","push","add","resizer","onResize","render","start","stop"],"mappings":";;AAAA,SAASA,YAAT,QAA6B,wBAA7B;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,SAASC,IAAT,QAAqB,mBAArB,C,CAEA;AACA;;AACA,IAAIC,MAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,KAAJ;AACA,IAAIC,IAAJ;;IAEMC,K;AACJ,iBAAYC,SAAZ,EAAuB;AAAA;;AAAA;;AACrB;AACAL,IAAAA,MAAM,GAAGR,YAAY,EAArB;AACAU,IAAAA,KAAK,GAAGP,WAAW,CAAC,oBAAD,CAAnB;AACAM,IAAAA,QAAQ,GAAGJ,cAAc,EAAzB,CAJqB,CAMrB;;AACAM,IAAAA,IAAI,GAAG,IAAIJ,IAAJ,CAASC,MAAT,EAAiBE,KAAjB,EAAwBD,QAAxB,CAAP;AAEAI,IAAAA,SAAS,CAACC,MAAV,CAAiBL,QAAQ,CAACM,UAA1B,EATqB,CAWrB;;AACA,QAAMC,QAAQ,GAAGZ,cAAc,CAACI,MAAD,EAASC,QAAQ,CAACM,UAAlB,CAA/B;AAEAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,iBAArB,EAdqB,CAgBrB;;AACA,QAAIC,GAAG,GAAGlB,UAAU,CAAC,SAAD,CAApB,CAjBqB,CAmBrB;;AACA,wBAA+BD,YAAY,CAAC,OAAD,CAA3C;AAAA,QAAQoB,KAAR,iBAAQA,KAAR;AAAA,QAAeC,WAAf,iBAAeA,WAAf;;AAEAX,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBR,QAArB;AACAL,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBJ,GAArB;AACAT,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBH,KAArB;AAEAX,IAAAA,KAAK,CAACe,GAAN,CAAUJ,KAAV,EAAiBD,GAAjB,EA1BqB,CA4BrB;;AACA,QAAMM,OAAO,GAAG,IAAIpB,OAAJ,CAAYO,SAAZ,EAAuBL,MAAvB,EAA+BC,QAA/B,CAAhB;;AACAiB,IAAAA,OAAO,CAACC,QAAR,GAAmB,YAAM;AACvB,MAAA,KAAI,CAACC,MAAL;AACD,KAFD;AAGD;;;;WAED,kBAAS;AACP;AACAnB,MAAAA,QAAQ,CAACmB,MAAT,CAAgBlB,KAAhB,EAAuBF,MAAvB;AACD,K,CAED;;;;WACA,iBAAQ;AACNG,MAAAA,IAAI,CAACkB,KAAL;AACD;;;WAED,gBAAO;AACLlB,MAAAA,IAAI,CAACmB,IAAL;AACD;;;;;;AAGH,SAASlB,KAAT","sourcesContent":["import { createCamera } from \"./components/camera.js\";\r\nimport { createLights } from \"./components/lights.js\";\r\nimport { createCube } from \"./components/objects/cube.js\";\r\nimport { createScene } from \"./components/scene.js\";\r\nimport { createControls } from \"./systems/controls.js\";\r\nimport { createRenderer } from \"./systems/renderer.js\";\r\nimport { Resizer } from \"./systems/Resizer.js\";\r\nimport { Loop } from \"./systems/Loop.js\";\r\n\r\n// These variables are module-scoped: we cannot access them\r\n// from outside the module\r\nlet camera;\r\nlet renderer;\r\nlet scene;\r\nlet loop;\r\n\r\nclass World {\r\n  constructor(container) {\r\n    // Instances of camera, scene, and renderer\r\n    camera = createCamera();\r\n    scene = createScene(\"hsl(0, 100%, 100%)\");\r\n    renderer = createRenderer();\r\n\r\n    // Initializate Loop\r\n    loop = new Loop(camera, scene, renderer);\r\n\r\n    container.append(renderer.domElement);\r\n\r\n    // Orbit Controls\r\n    const controls = createControls(camera, renderer.domElement);\r\n\r\n    console.log(controls.listenToKeyEvents);\r\n\r\n    // Cube Instance\r\n    let box = createCube(\"#41b883\");\r\n\r\n    // Light Instance, with optional light helper\r\n    const { light, lightHelper } = createLights(\"white\");\r\n\r\n    loop.updatables.push(controls);\r\n    loop.updatables.push(box);\r\n    loop.updatables.push(light);\r\n\r\n    scene.add(light, box);\r\n\r\n    // Responsive handler\r\n    const resizer = new Resizer(container, camera, renderer);\r\n    resizer.onResize = () => {\r\n      this.render();\r\n    };\r\n  }\r\n\r\n  render() {\r\n    // draw a single frame\r\n    renderer.render(scene, camera);\r\n  }\r\n\r\n  // Animation handlers\r\n  start() {\r\n    loop.start();\r\n  }\r\n\r\n  stop() {\r\n    loop.stop();\r\n  }\r\n}\r\n\r\nexport { World };\r\n"]}]}