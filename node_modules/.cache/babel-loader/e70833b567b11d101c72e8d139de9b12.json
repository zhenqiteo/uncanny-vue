{"remainingRequest":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\src\\World\\systems\\Loop.js","dependencies":[{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\src\\World\\systems\\Loop.js","mtime":1666672123799},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\babel.config.js","mtime":1666672123791},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666672504885},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\node_modules\\babel-loader\\lib\\index.js","mtime":1666672506616}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL3poZW5xL09uZURyaXZlL0RvY3VtZW50cy9jbGllbnRfcHJvamVjdHMvdnVlLXRocmVlLXN0YXJ0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6L1VzZXJzL3poZW5xL09uZURyaXZlL0RvY3VtZW50cy9jbGllbnRfcHJvamVjdHMvdnVlLXRocmVlLXN0YXJ0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi9Vc2Vycy96aGVucS9PbmVEcml2ZS9Eb2N1bWVudHMvY2xpZW50X3Byb2plY3RzL3Z1ZS10aHJlZS1zdGFydGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCB7IENsb2NrIH0gZnJvbSAndGhyZWUnOwp2YXIgY2xvY2sgPSBuZXcgQ2xvY2soKTsKCnZhciBMb29wID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBMb29wKGNhbWVyYSwgc2NlbmUsIHJlbmRlcmVyKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9vcCk7CgogICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7CiAgICB0aGlzLnNjZW5lID0gc2NlbmU7CiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7CiAgICB0aGlzLnVwZGF0YWJsZXMgPSBbXTsKICB9CgogIF9jcmVhdGVDbGFzcyhMb29wLCBbewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5yZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy50aWNrKCk7IC8vIHJlbmRlciBhIGZyYW1lCgoKICAgICAgICBfdGhpcy5yZW5kZXJlci5yZW5kZXIoX3RoaXMuc2NlbmUsIF90aGlzLmNhbWVyYSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHRoaXMucmVuZGVyZXIuc2V0QW5pbWF0aW9uTG9vcChudWxsKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0aWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0aWNrKCkgewogICAgICB2YXIgZGVsdGEgPSBjbG9jay5nZXREZWx0YSgpOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMudXBkYXRhYmxlcyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBvYmplY3QgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIG9iamVjdC50aWNrKGRlbHRhKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIExvb3A7Cn0oKTsKCmV4cG9ydCB7IExvb3AgfTs="},{"version":3,"sources":["C:/Users/zhenq/OneDrive/Documents/client_projects/vue-three-starter/src/World/systems/Loop.js"],"names":["Clock","clock","Loop","camera","scene","renderer","updatables","setAnimationLoop","tick","render","delta","getDelta","object"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,OAAtB;AAEA,IAAMC,KAAK,GAAG,IAAID,KAAJ,EAAd;;IAGME,I;AACJ,gBAAYC,MAAZ,EAAoBC,KAApB,EAA2BC,QAA3B,EAAqC;AAAA;;AACnC,SAAKF,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACD;;;;WAED,iBAAQ;AAAA;;AACN,WAAKD,QAAL,CAAcE,gBAAd,CAA+B,YAAM;AACjC,QAAA,KAAI,CAACC,IAAL,GADiC,CAEjC;;;AACA,QAAA,KAAI,CAACH,QAAL,CAAcI,MAAd,CAAqB,KAAI,CAACL,KAA1B,EAAiC,KAAI,CAACD,MAAtC;AACH,OAJD;AAKD;;;WAED,gBAAO;AACL,WAAKE,QAAL,CAAcE,gBAAd,CAA+B,IAA/B;AACD;;;WAED,gBAAO;AACL,UAAMG,KAAK,GAAGT,KAAK,CAACU,QAAN,EAAd;;AADK,iDAEgB,KAAKL,UAFrB;AAAA;;AAAA;AAEL,4DAAsC;AAAA,cAA3BM,MAA2B;AAClCA,UAAAA,MAAM,CAACJ,IAAP,CAAYE,KAAZ;AACH;AAJI;AAAA;AAAA;AAAA;AAAA;AAKN;;;;;;AAGH,SAASR,IAAT","sourcesContent":["import { Clock } from 'three';\r\n\r\nconst clock = new Clock();\r\n\r\n\r\nclass Loop {\r\n  constructor(camera, scene, renderer) {\r\n    this.camera = camera;\r\n    this.scene = scene;\r\n    this.renderer = renderer;\r\n    this.updatables = [];\r\n  }\r\n\r\n  start() {\r\n    this.renderer.setAnimationLoop(() => {\r\n        this.tick();\r\n        // render a frame\r\n        this.renderer.render(this.scene, this.camera);\r\n    });\r\n  }\r\n\r\n  stop() {\r\n    this.renderer.setAnimationLoop(null);\r\n  }\r\n\r\n  tick() {\r\n    const delta = clock.getDelta();\r\n    for (const object of this.updatables) {\r\n        object.tick(delta);\r\n    }\r\n  }\r\n}\r\n\r\nexport { Loop }"]}]}