{"remainingRequest":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\src\\World\\World.js","dependencies":[{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\src\\World\\World.js","mtime":1666672123798},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\babel.config.js","mtime":1666672123791},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666672504885},{"path":"C:\\Users\\zhenq\\OneDrive\\Documents\\client_projects\\vue-three-starter\\node_modules\\babel-loader\\lib\\index.js","mtime":1666672506616}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy96aGVucS9PbmVEcml2ZS9Eb2N1bWVudHMvY2xpZW50X3Byb2plY3RzL3Z1ZS10aHJlZS1zdGFydGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovVXNlcnMvemhlbnEvT25lRHJpdmUvRG9jdW1lbnRzL2NsaWVudF9wcm9qZWN0cy92dWUtdGhyZWUtc3RhcnRlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgeyBjcmVhdGVDYW1lcmEgfSBmcm9tICIuL2NvbXBvbmVudHMvY2FtZXJhLmpzIjsKaW1wb3J0IHsgY3JlYXRlTGlnaHRzIH0gZnJvbSAiLi9jb21wb25lbnRzL2xpZ2h0cy5qcyI7CmltcG9ydCB7IGNyZWF0ZUN1YmUgfSBmcm9tICIuL2NvbXBvbmVudHMvb2JqZWN0cy9jdWJlLmpzIjsKaW1wb3J0IHsgY3JlYXRlU2NlbmUgfSBmcm9tICIuL2NvbXBvbmVudHMvc2NlbmUuanMiOwppbXBvcnQgeyBjcmVhdGVDb250cm9scyB9IGZyb20gIi4vc3lzdGVtcy9jb250cm9scy5qcyI7CmltcG9ydCB7IGNyZWF0ZVJlbmRlcmVyIH0gZnJvbSAiLi9zeXN0ZW1zL3JlbmRlcmVyLmpzIjsKaW1wb3J0IHsgUmVzaXplciB9IGZyb20gIi4vc3lzdGVtcy9SZXNpemVyLmpzIjsKaW1wb3J0IHsgTG9vcCB9IGZyb20gIi4vc3lzdGVtcy9Mb29wLmpzIjsgLy8gVGhlc2UgdmFyaWFibGVzIGFyZSBtb2R1bGUtc2NvcGVkOiB3ZSBjYW5ub3QgYWNjZXNzIHRoZW0KLy8gZnJvbSBvdXRzaWRlIHRoZSBtb2R1bGUKCnZhciBjYW1lcmE7CnZhciByZW5kZXJlcjsKdmFyIHNjZW5lOwp2YXIgbG9vcDsKCnZhciBXb3JsZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gV29ybGQoY29udGFpbmVyKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXb3JsZCk7CgogICAgLy8gSW5zdGFuY2VzIG9mIGNhbWVyYSwgc2NlbmUsIGFuZCByZW5kZXJlcgogICAgY2FtZXJhID0gY3JlYXRlQ2FtZXJhKCk7CiAgICBzY2VuZSA9IGNyZWF0ZVNjZW5lKCJoc2woMjEwLCAyOSUsIDM1JSkiKTsKICAgIHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIoKTsgLy8gSW5pdGlhbGl6YXRlIExvb3AKCiAgICBsb29wID0gbmV3IExvb3AoY2FtZXJhLCBzY2VuZSwgcmVuZGVyZXIpOwogICAgY29udGFpbmVyLmFwcGVuZChyZW5kZXJlci5kb21FbGVtZW50KTsgLy8gT3JiaXQgQ29udHJvbHMKCiAgICB2YXIgY29udHJvbHMgPSBjcmVhdGVDb250cm9scyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpOwogICAgY29uc29sZS5sb2coY29udHJvbHMubGlzdGVuVG9LZXlFdmVudHMpOyAvLyBDdWJlIEluc3RhbmNlCgogICAgdmFyIGJveCA9IGNyZWF0ZUN1YmUoIiM0MWI4ODMiKTsgLy8gTGlnaHQgSW5zdGFuY2UsIHdpdGggb3B0aW9uYWwgbGlnaHQgaGVscGVyCgogICAgdmFyIF9jcmVhdGVMaWdodHMgPSBjcmVhdGVMaWdodHMoIndoaXRlIiksCiAgICAgICAgbGlnaHQgPSBfY3JlYXRlTGlnaHRzLmxpZ2h0LAogICAgICAgIGxpZ2h0SGVscGVyID0gX2NyZWF0ZUxpZ2h0cy5saWdodEhlbHBlcjsKCiAgICBsb29wLnVwZGF0YWJsZXMucHVzaChjb250cm9scyk7CiAgICBsb29wLnVwZGF0YWJsZXMucHVzaChib3gpOwogICAgbG9vcC51cGRhdGFibGVzLnB1c2gobGlnaHQpOwogICAgc2NlbmUuYWRkKGxpZ2h0LCBib3gpOyAvLyBSZXNwb25zaXZlIGhhbmRsZXIKCiAgICB2YXIgcmVzaXplciA9IG5ldyBSZXNpemVyKGNvbnRhaW5lciwgY2FtZXJhLCByZW5kZXJlcik7CgogICAgcmVzaXplci5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucmVuZGVyKCk7CiAgICB9OwogIH0KCiAgX2NyZWF0ZUNsYXNzKFdvcmxkLCBbewogICAga2V5OiAicmVuZGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIC8vIGRyYXcgYSBzaW5nbGUgZnJhbWUKICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpOwogICAgfSAvLyBBbmltYXRpb24gaGFuZGxlcnMKCiAgfSwgewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICBsb29wLnN0YXJ0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic3RvcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgbG9vcC5zdG9wKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gV29ybGQ7Cn0oKTsKCmV4cG9ydCB7IFdvcmxkIH07"},{"version":3,"sources":["C:/Users/zhenq/OneDrive/Documents/client_projects/vue-three-starter/src/World/World.js"],"names":["createCamera","createLights","createCube","createScene","createControls","createRenderer","Resizer","Loop","camera","renderer","scene","loop","World","container","append","domElement","controls","console","log","listenToKeyEvents","box","light","lightHelper","updatables","push","add","resizer","onResize","render","start","stop"],"mappings":";;AAAA,SAASA,YAAT,QAA6B,wBAA7B;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,cAAT,QAA+B,uBAA/B;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,SAASC,IAAT,QAAqB,mBAArB,C,CAEA;AACA;;AACA,IAAIC,MAAJ;AACA,IAAIC,QAAJ;AACA,IAAIC,KAAJ;AACA,IAAIC,IAAJ;;IAEMC,K;AACJ,iBAAYC,SAAZ,EAAuB;AAAA;;AAAA;;AACrB;AACAL,IAAAA,MAAM,GAAGR,YAAY,EAArB;AACAU,IAAAA,KAAK,GAAGP,WAAW,CAAC,oBAAD,CAAnB;AACAM,IAAAA,QAAQ,GAAGJ,cAAc,EAAzB,CAJqB,CAMrB;;AACAM,IAAAA,IAAI,GAAG,IAAIJ,IAAJ,CAASC,MAAT,EAAiBE,KAAjB,EAAwBD,QAAxB,CAAP;AAEAI,IAAAA,SAAS,CAACC,MAAV,CAAiBL,QAAQ,CAACM,UAA1B,EATqB,CAWrB;;AACA,QAAMC,QAAQ,GAAGZ,cAAc,CAACI,MAAD,EAASC,QAAQ,CAACM,UAAlB,CAA/B;AAGAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,iBAArB,EAfqB,CAiBrB;;AACA,QAAIC,GAAG,GAAGlB,UAAU,CAAC,SAAD,CAApB,CAlBqB,CAoBrB;;AACA,wBAA+BD,YAAY,CAAC,OAAD,CAA3C;AAAA,QAAQoB,KAAR,iBAAQA,KAAR;AAAA,QAAeC,WAAf,iBAAeA,WAAf;;AAEAX,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBR,QAArB;AACAL,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBJ,GAArB;AACAT,IAAAA,IAAI,CAACY,UAAL,CAAgBC,IAAhB,CAAqBH,KAArB;AAEAX,IAAAA,KAAK,CAACe,GAAN,CAAUJ,KAAV,EAAiBD,GAAjB,EA3BqB,CA6BrB;;AACA,QAAMM,OAAO,GAAG,IAAIpB,OAAJ,CAAYO,SAAZ,EAAuBL,MAAvB,EAA+BC,QAA/B,CAAhB;;AACAiB,IAAAA,OAAO,CAACC,QAAR,GAAmB,YAAM;AACvB,MAAA,KAAI,CAACC,MAAL;AACD,KAFD;AAGD;;;;WAED,kBAAS;AACP;AACAnB,MAAAA,QAAQ,CAACmB,MAAT,CAAgBlB,KAAhB,EAAuBF,MAAvB;AACD,K,CAED;;;;WACA,iBAAQ;AACNG,MAAAA,IAAI,CAACkB,KAAL;AACD;;;WAED,gBAAO;AACLlB,MAAAA,IAAI,CAACmB,IAAL;AACD;;;;;;AAGH,SAASlB,KAAT","sourcesContent":["import { createCamera } from \"./components/camera.js\";\r\nimport { createLights } from \"./components/lights.js\";\r\nimport { createCube } from \"./components/objects/cube.js\";\r\nimport { createScene } from \"./components/scene.js\";\r\nimport { createControls } from \"./systems/controls.js\";\r\nimport { createRenderer } from \"./systems/renderer.js\";\r\nimport { Resizer } from \"./systems/Resizer.js\";\r\nimport { Loop } from \"./systems/Loop.js\";\r\n\r\n// These variables are module-scoped: we cannot access them\r\n// from outside the module\r\nlet camera;\r\nlet renderer;\r\nlet scene;\r\nlet loop;\r\n\r\nclass World {\r\n  constructor(container) {\r\n    // Instances of camera, scene, and renderer\r\n    camera = createCamera();\r\n    scene = createScene(\"hsl(210, 29%, 35%)\");\r\n    renderer = createRenderer();\r\n\r\n    // Initializate Loop\r\n    loop = new Loop(camera, scene, renderer);\r\n\r\n    container.append(renderer.domElement);\r\n\r\n    // Orbit Controls\r\n    const controls = createControls(camera, renderer.domElement);\r\n\r\n\r\n    console.log(controls.listenToKeyEvents);\r\n\r\n    // Cube Instance\r\n    let box = createCube(\"#41b883\");\r\n\r\n    // Light Instance, with optional light helper\r\n    const { light, lightHelper } = createLights(\"white\");\r\n\r\n    loop.updatables.push(controls);\r\n    loop.updatables.push(box);\r\n    loop.updatables.push(light);\r\n\r\n    scene.add(light, box);\r\n\r\n    // Responsive handler\r\n    const resizer = new Resizer(container, camera, renderer);\r\n    resizer.onResize = () => {\r\n      this.render();\r\n    };\r\n  }\r\n\r\n  render() {\r\n    // draw a single frame\r\n    renderer.render(scene, camera);\r\n  }\r\n\r\n  // Animation handlers\r\n  start() {\r\n    loop.start();\r\n  }\r\n\r\n  stop() {\r\n    loop.stop();\r\n  }\r\n}\r\n\r\nexport { World };\r\n"]}]}